@import domain.entities.{UserToken, TokenInfo}
@import play.api.libs.json.Json
@(title: String, ti: TokenInfo, ut: UserToken)(content: Html)
<!DOCTYPE html>
<html lang="en">
    <head>

        <title>@title</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">



        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("vendor/bootstrap/css/bootstrap.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("vendor/bootstrap/css/bootstrap-theme.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/main.css")">

        <script src="@routes.Assets.versioned("vendor/underscore/underscore.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("vendor/jquery/jquery.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("vendor/backbone/backbone.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("vendor/layoutmanager/backbone.layoutmanager.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("vendor/handlebars/handlebars.runtime.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("vendor/bootstrap/js/bootstrap.js")" type="text/javascript"></script>

        <script src="@routes.Assets.versioned("js/templates.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("js/app.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("js/models.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("js/views.js")" type="text/javascript"></script>

        <script type="text/javascript">

            $(document).ready(function() {

                var config = {};

                var context = {
                    "nsid": @Html(Json.toJson(ti.nsid).toString),
                    "s": @Html(Json.toJson(ut.secret).toString),
                    "t": @Html(Json.toJson(ut.token).toString)
                };

                var templates = FlickrAssistantTemplates;

                var fa = new FlickrAssistant.App(config, context, templates);
                fa.bootstrap().run();
            });

        </script>

    </head>
    <body>
        @content
    </body>
</html>
